---
layout: "../../layouts/MarkdownPostLayouts.astro"
title: "云图库项目扩展记录"
date: 2025-02-27
description: "云图库项目扩展记录"
tags: ["项目学习"]
author: "zjb"
---

# 云图库项目扩展

##用户模块

1. 实现会员相关功能 用户邀请功能
2. 添加用户认证相关功能，如手机号邮箱登录，学历认证，微信号登录等

##图片模块

1. 通过标签的使用次数在主页展示热门标签
2. 优化审核策略：调用第三方的内容安全自动审核，腾讯云，阿里云等；分级审核，通过信誉来区分，如 VIP 自动过审；举报机制；

##图片优化

1. 审核通知，当管理员完成审核后，系统可以通过消息中心或者邮件通知用户
2. 提供优化图片清晰度的功能，给 vip，用阿里云百炼
3. 提供刷新缓存接口，查询优化和代码优化
4. 自动识别热点图片缓存
5. 图片懒加载和渐进式加载
6. 重新上传图片时，之前的图片已经作废，就删掉；定时任务清理旧图片；可以在数据库中保存原图的地址，然后用于删除。（如果是修改，在后端应该是修改图片，在后端删除在云图库的图片）
7. 提供批量删除图片（真删除）用对象存储的接口[对象存储 删除对象-SDK 文档-文档中心-腾讯云](https://cloud.tencent.com/document/product/436/65939#841fe310-bdf8-4789-9bc0-26ea844e316d) （可以定时把 picture 中逻辑删除的图片删掉，在表中加入原图地址记录，然后调用对象存储批量删除）

## 空间模块

1. 用户注册后自动创建空间
2. 本地锁改成分布式锁
3. 删除空间时，关联删除空间内的图片
4. 更新上传图片时，删除原有图片，并修改额度。（可以通过在事物中补充逻辑或者通过定时任务扫描删除）
5. 支持管理员填写空间大小、空间条数，从而实现类似“资源扩容包”的功能。
   选择空间级别时自动填充空间大小、空间条数这两个表单项
6. 空间内上传图片改成弹窗组件
7. 上传图片到空间时，上传页面可以展示出空间名称、容量等信息，并且前端也可以判断是否具有权限，优化用户体验。除了图片列表组件外，还可以封装单个图片的组件，复用更灵活。

##图片功能扩展

1. 图片尺寸搜索优化，预设几个选项进行匹配过滤
2. 图片格式选择，需要把图片的原图格式显示出来
3. 基础搜索与详细搜索切换，通过使用折叠组件，常用搜索（标签分类关键词）和详细搜索（图片格式和宽度）
4. 解决 webp 格式图片无法搜索的问题（以图搜图），解决方案有三种
5. 刷新历史数据，让所有的图片都有主色调。将颜色搜索和其他的搜索相结合，比如先用其他的搜索条件过滤数据，再运用相似度算法排序。
6. 将颜色搜索应用到主页公共图库、图片管理页面等,
7. 使用 ES 分词搜索图片的名称和简介，鱼皮编程导航的聚合搜索项目、面试刷题平台项目 都有从 0 开始的 ES 讲解。
8. 多模态搜索:可以用文字搜索图片内容，一般使用第三方云服务实现。比如 智能检索 Metalnsight，可以通过自然语言或结构化的检索条件，分析存储在对象存储 COS 中的文件，满足对存储数据的管理、分析、检索需求。
   智能检索利用数据万象已有的图片、视频、语音、文档等数据处理能力，提取文件的特征或元数据并索引到数据集中，提供文件的聚合统计查询、人脸图像检索、图片内容检索等能力。
   使用它能实现更智能的搜索，比如:
   ·图片自动打标签
   自动识别出相同的人物进行分类(手机智能相册.
9. 自动按日期将图片分类到不同的文件夹中
10. 颜色检索时，定义一个阈值范围，过滤掉不相似颜色,
